<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lesson11. js57</title>
    <style>
      section {
        width: 550px;
        height: 400px;
        border: 1px solid #f00;
        margin: 0 auto;
        overflow: hidden;
      }
      img{
        position:relative;
      }
  
    </style>
  </head>
  <body onload="setTimeout(mainFunc,1000)">
    <section id="slide">
      <img src="images/img3b.jpg" id="pic1" alt="" />
    </section>
    <h1>head1</h1>

    <script>
              let i = 1, wp = 550, step = wp/500, p=2,timing=1;
              
      function mainFunc(){
          if (++i>p){
              i = 1;
          }
          let sl = document.getElementById("slide");
          imgOld = document.getElementById("pic1");
          newImg = document.createElement("img");
          newImg.setAttribute("id","pic2");
          newImg.setAttribute("src",`images/img${i}b.jpg`);
          newImg.style.cssText = `
          top:-400px;
          left:${wp}px;
          `;
          sl.append(newImg);
          pos = wp;
          pos0=0;
          timer1 = setTimeout(moveImages,timing);
      }
      function moveImages(){

        newImg.style.cssText = `
          top:-400px;
          left:${pos}px;
          `;
          imgOld.style.cssText = `
          
          left:${pos0}px;
          `;
          if (pos<=0){
              return
          }
          pos = pos-step;
          pos0-=step;
        timer1 = setTimeout(moveImages,timing);
      }
    </script>
  </body>
</html>
